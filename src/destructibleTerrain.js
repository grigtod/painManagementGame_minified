const _0x18f3=['pickedPoint','blueprint\x20terrain','abs','getMaterialByName','position','pointerX','decalMat','pointerdown','hit','isVisible','tileExists','parent','tileRef','zOffset','button','createInstance','Texture','log','pickWithRay','pick','CreateDecal','Vector3','/assets/testDecals/impact.png','MeshBuilder','hasAlpha','pickedMesh','setEnabled','isHidden','material','diffuseTexture','CreateBox'];(function(_0xa82e58,_0x18f3af){const _0x144727=function(_0x14abbc){while(--_0x14abbc){_0xa82e58['push'](_0xa82e58['shift']());}};_0x144727(++_0x18f3af);}(_0x18f3,0x1b1));const _0x1447=function(_0xa82e58,_0x18f3af){_0xa82e58=_0xa82e58-0x0;let _0x144727=_0x18f3[_0xa82e58];return _0x144727;};function terrainTile(){let _0x14abbc,_0x37005f=![],_0x27d6f6=![];return{'tileRef':_0x14abbc,'tileExists':_0x37005f,'isHidden':_0x27d6f6};}destructibleTerrain=function(){let _0x59e1a8=!![];var _0x599bb5=[];let _0x1acc38=[],_0x3dec24,_0x3db5b3,_0x217aa4,_0x40086a,_0xee0bb0=function(){const _0x2b5815=_0x1447;_0x3dec24=(terrain_bottomRight['z']-terrain_topLeft['z'])*(0x1/terrain_tileSize),_0x3db5b3=(terrain_bottomRight['x']-terrain_topLeft['x'])*(0x1/terrain_tileSize),_0x217aa4=BABYLON['MeshBuilder'][_0x2b5815('0x0')]('blueprint\x20terrain',{'height':terrain_tileHeight,'width':terrain_tileSize*_0x3db5b3,'depth':terrain_tileSize*_0x3dec24},global_sceneRef),_0x217aa4[_0x2b5815('0x1d')]=global_sceneRef[_0x2b5815('0x4')](terrain_layersMaterials[0x0]),_0x217aa4[_0x2b5815('0x5')]=new BABYLON[(_0x2b5815('0x16'))](-15.5,0x0,0x0),_0x40086a=new BABYLON['StandardMaterial'](_0x2b5815('0x7'),global_sceneRef),_0x40086a[_0x2b5815('0x1e')]=new BABYLON[(_0x2b5815('0x11'))](_0x2b5815('0x17'),global_sceneRef),_0x40086a[_0x2b5815('0x1e')][_0x2b5815('0x19')]=!![],_0x40086a[_0x2b5815('0xe')]=-0x2;return;var _0x2b9cfb=function(_0x131d0e){const _0x3e1db9=_0x2b5815;if(_0x131d0e[_0x3e1db9('0xf')]!==0x0)return;var _0x5b4aa0=global_sceneRef[_0x3e1db9('0x14')](global_sceneRef[_0x3e1db9('0x6')],global_sceneRef['pointerY'],function(_0x1d2835){return _0x1d2835===_0x217aa4;});_0x5b4aa0[_0x3e1db9('0x9')]&&_0x9acac0(_0x5b4aa0[_0x3e1db9('0x1')]);};global_engineRef['getRenderingCanvas']()['addEventListener'](_0x2b5815('0x8'),_0x2b9cfb,![]);return;_0x3dec24=(terrain_bottomRight['z']-terrain_topLeft['z'])*(0x1/terrain_tileSize),_0x3db5b3=(terrain_bottomRight['x']-terrain_topLeft['x'])*(0x1/terrain_tileSize);for(let _0x281abf=0x1;_0x281abf<terrain_layersDepth+0x1;_0x281abf++){_0x599bb5[_0x281abf-0x1]=[[],[]];let _0x42d39d=BABYLON[_0x2b5815('0x18')][_0x2b5815('0x0')](_0x2b5815('0x2'),{'height':terrain_tileHeight,'width':terrain_tileSize,'depth':terrain_tileSize},global_sceneRef);_0x42d39d[_0x2b5815('0x1d')]=global_sceneRef['getMaterialByName'](terrain_layersMaterials[_0x281abf-0x1]),_0x1acc38[_0x281abf-0x1]=_0x42d39d;for(let _0x340d3c=0x0;_0x340d3c<=_0x3dec24;_0x340d3c++){_0x599bb5[_0x281abf-0x1][_0x340d3c]=[[],[]];for(let _0x39ec50=0x0;_0x39ec50<=_0x3db5b3;_0x39ec50++){_0x599bb5[_0x281abf-0x1][_0x340d3c][_0x39ec50]=new terrainTile();if(_0x281abf==0x1){var _0x8a8d42=_0x42d39d[_0x2b5815('0x10')]('i'+_0x340d3c);_0x8a8d42[_0x2b5815('0x5')]=new BABYLON[(_0x2b5815('0x16'))](terrain_topLeft['x']+_0x39ec50*terrain_tileSize,terrain_topLeft['y']-terrain_tileHeight*_0x281abf,terrain_topLeft['z']+_0x340d3c*terrain_tileSize),_0x8a8d42[_0x2b5815('0xc')]=_0x42d39d,_0x599bb5[_0x281abf-0x1][_0x340d3c][_0x39ec50][_0x2b5815('0xd')]=_0x8a8d42,_0x599bb5[_0x281abf-0x1][_0x340d3c][_0x39ec50][_0x2b5815('0xb')]=!![];}}}_0x42d39d[_0x2b5815('0xa')]=![];}},_0x9acac0=function(_0x7ad528){const _0x3ca986=_0x1447;_0x7ad528=new BABYLON[(_0x3ca986('0x16'))](-_0x7ad528['x'],_0x7ad528['y'],_0x7ad528['z']);var _0x4b4933=new BABYLON['Ray'](new BABYLON[(_0x3ca986('0x16'))](_0x7ad528['x'],_0x7ad528['y']+0x1,_0x7ad528['z']),new BABYLON[(_0x3ca986('0x16'))](0x0,-0x1,0x0),0x32),_0x375d66=global_sceneRef[_0x3ca986('0x13')](_0x4b4933,function(_0x3e4982){return _0x3e4982===_0x217aa4;});if(_0x375d66[_0x3ca986('0x1a')]){var _0x52021b=new BABYLON[(_0x3ca986('0x16'))](0x3,0x3,0x3);console['log']('decal');var _0x179daf=BABYLON[_0x3ca986('0x18')][_0x3ca986('0x15')]('decal',_0x217aa4,{'position':_0x7ad528,'size':_0x52021b});_0x179daf['material']=_0x40086a;}return;if(perf_destroyTerrain===![])return;let _0x18f859=(-_0x7ad528['x']-terrain_topLeft['x'])/(terrain_bottomRight['x']-terrain_topLeft['x']),_0x19fdda=(_0x7ad528['z']-terrain_topLeft['z'])/(terrain_bottomRight['z']-terrain_topLeft['z']),_0x33ccf4=parseInt(mathManager['lerp'](0x0,_0x3dec24,_0x19fdda)),_0x224d8a=parseInt(mathManager['lerp'](0x0,_0x3db5b3,_0x18f859));_0x1d5ca6(_0x33ccf4,_0x224d8a);},_0x1d5ca6=function(_0x50ca61,_0x290ccd){_0x543585(_0x50ca61,_0x290ccd,0x0,![]),_0xbec7f(_0x50ca61,_0x290ccd,0x0,!![]),_0xf45e78(_0x50ca61,_0x290ccd,0x0,!![]),_0x5338ee(_0x50ca61,_0x290ccd,0x0,!![]),_0xbec7f(_0x50ca61,_0x290ccd,0x1,![]),_0xf45e78(_0x50ca61,_0x290ccd,0x1,!![]),_0x5338ee(_0x50ca61,_0x290ccd,0x1,!![]),_0xf45e78(_0x50ca61,_0x290ccd,0x2,![]),_0x5338ee(_0x50ca61,_0x290ccd,0x2,![]);},_0xf45e78=function(_0x128420,_0xa31f71,_0x26fbed,_0x4af494){_0x5338ee(_0x128420-0x1,_0xa31f71-0x1,_0x26fbed,_0x4af494),_0x5338ee(_0x128420-0x1,_0xa31f71,_0x26fbed,_0x4af494),_0x5338ee(_0x128420-0x1,_0xa31f71+0x1,_0x26fbed,_0x4af494),_0x5338ee(_0x128420,_0xa31f71+0x1,_0x26fbed,_0x4af494),_0x5338ee(_0x128420+0x1,_0xa31f71+0x1,_0x26fbed,_0x4af494),_0x5338ee(_0x128420+0x1,_0xa31f71,_0x26fbed,_0x4af494),_0x5338ee(_0x128420+0x1,_0xa31f71-0x1,_0x26fbed,_0x4af494),_0x5338ee(_0x128420,_0xa31f71-0x1,_0x26fbed,_0x4af494);},_0xbec7f=function(_0x6a9640,_0x2a230e,_0x5216a9,_0x18a72f){_0x5338ee(_0x6a9640-0x2,_0x2a230e-0x1,_0x5216a9,_0x18a72f),_0x5338ee(_0x6a9640-0x2,_0x2a230e,_0x5216a9,_0x18a72f),_0x5338ee(_0x6a9640-0x2,_0x2a230e+0x1,_0x5216a9,_0x18a72f),_0x5338ee(_0x6a9640-0x1,_0x2a230e+0x2,_0x5216a9,_0x18a72f),_0x5338ee(_0x6a9640,_0x2a230e+0x2,_0x5216a9,_0x18a72f),_0x5338ee(_0x6a9640+0x1,_0x2a230e+0x2,_0x5216a9,_0x18a72f),_0x5338ee(_0x6a9640+0x2,_0x2a230e+0x1,_0x5216a9,_0x18a72f),_0x5338ee(_0x6a9640+0x2,_0x2a230e,_0x5216a9,_0x18a72f),_0x5338ee(_0x6a9640+0x2,_0x2a230e-0x1,_0x5216a9,_0x18a72f),_0x5338ee(_0x6a9640+0x1,_0x2a230e-0x2,_0x5216a9,_0x18a72f),_0x5338ee(_0x6a9640,_0x2a230e-0x2,_0x5216a9,_0x18a72f),_0x5338ee(_0x6a9640-0x1,_0x2a230e-0x2,_0x5216a9,_0x18a72f);},_0x543585=function(_0x3adbb1,_0xa69721,_0x2ca9a7,_0x389b5e){_0x5338ee(_0x3adbb1-0x3,_0xa69721-0x1,_0x2ca9a7,_0x389b5e),_0x5338ee(_0x3adbb1-0x3,_0xa69721,_0x2ca9a7,_0x389b5e),_0x5338ee(_0x3adbb1-0x3,_0xa69721+0x1,_0x2ca9a7,_0x389b5e),_0x5338ee(_0x3adbb1-0x2,_0xa69721+0x2,_0x2ca9a7,_0x389b5e),_0x5338ee(_0x3adbb1-0x1,_0xa69721+0x3,_0x2ca9a7,_0x389b5e),_0x5338ee(_0x3adbb1,_0xa69721+0x3,_0x2ca9a7,_0x389b5e),_0x5338ee(_0x3adbb1+0x1,_0xa69721+0x3,_0x2ca9a7,_0x389b5e),_0x5338ee(_0x3adbb1+0x2,_0xa69721+0x2,_0x2ca9a7,_0x389b5e),_0x5338ee(_0x3adbb1+0x3,_0xa69721+0x1,_0x2ca9a7,_0x389b5e),_0x5338ee(_0x3adbb1+0x3,_0xa69721,_0x2ca9a7,_0x389b5e),_0x5338ee(_0x3adbb1+0x3,_0xa69721-0x1,_0x2ca9a7,_0x389b5e),_0x5338ee(_0x3adbb1+0x2,_0xa69721-0x2,_0x2ca9a7,_0x389b5e),_0x5338ee(_0x3adbb1+0x1,_0xa69721-0x3,_0x2ca9a7,_0x389b5e),_0x5338ee(_0x3adbb1,_0xa69721-0x3,_0x2ca9a7,_0x389b5e),_0x5338ee(_0x3adbb1-0x1,_0xa69721-0x3,_0x2ca9a7,_0x389b5e),_0x5338ee(_0x3adbb1-0x2,_0xa69721-0x2,_0x2ca9a7,_0x389b5e);},_0x2bec9f=function(_0xcdac94,_0x41f5f8,_0x3af41,_0x325d96,_0x12fd8c,_0x2fc906,_0xf085b0){const _0x1b67d1=_0x1447;_0x325d96++;_0x325d96<_0x12fd8c&&(_0x5338ee(_0xcdac94,_0x41f5f8,_0x3af41),_0x2bec9f(_0xcdac94-0x1,_0x41f5f8,_0x3af41,_0x325d96,_0x12fd8c,_0x2fc906,_0xf085b0),_0x2bec9f(_0xcdac94+0x1,_0x41f5f8,_0x3af41,_0x325d96,_0x12fd8c,_0x2fc906,_0xf085b0),_0x2bec9f(_0xcdac94,_0x41f5f8-0x1,_0x3af41,_0x325d96,_0x12fd8c,_0x2fc906,_0xf085b0),_0x2bec9f(_0xcdac94,_0x41f5f8+0x1,_0x3af41,_0x325d96,_0x12fd8c,_0x2fc906,_0xf085b0));if(_0x325d96==_0x12fd8c){let _0x3df14a=Math[_0x1b67d1('0x3')](_0xcdac94-_0x2fc906)>=_0x12fd8c;console[_0x1b67d1('0x12')](_0x3df14a);}},_0x5338ee=function(_0x2abb59,_0x27377a,_0x55bdb5,_0x1fa6dc){const _0x14183b=_0x1447;if(_0x2abb59>-0x1&&_0x2abb59<_0x3dec24&&_0x27377a>-0x1&&_0x27377a<_0x3db5b3){if(_0x1fa6dc){if(_0x599bb5[_0x55bdb5][_0x2abb59][_0x27377a][_0x14183b('0xb')])_0x599bb5[_0x55bdb5][_0x2abb59][_0x27377a][_0x14183b('0xd')]['isVisible']=![];_0x599bb5[_0x55bdb5][_0x2abb59][_0x27377a]['isHidden']=!![];}else{if(_0x599bb5[_0x55bdb5][_0x2abb59][_0x27377a][_0x14183b('0xb')]===![]&&_0x599bb5[_0x55bdb5][_0x2abb59][_0x27377a][_0x14183b('0x1c')]===![]){var _0x4298a5=_0x1acc38[_0x55bdb5]['createInstance']('i'+_0x2abb59);_0x4298a5[_0x14183b('0x5')]=new BABYLON[(_0x14183b('0x16'))](terrain_topLeft['x']+_0x27377a*terrain_tileSize,terrain_topLeft['y']-terrain_tileHeight*(_0x55bdb5+0x1),terrain_topLeft['z']+_0x2abb59*terrain_tileSize),_0x4298a5[_0x14183b('0xc')]=_0x1acc38[_0x55bdb5],_0x599bb5[_0x55bdb5][_0x2abb59][_0x27377a]['tileRef']=_0x4298a5,_0x599bb5[_0x55bdb5][_0x2abb59][_0x27377a]['tileExists']=!![];}if(_0x599bb5[_0x55bdb5][_0x2abb59][_0x27377a][_0x14183b('0x1c')]===![])_0x599bb5[_0x55bdb5][_0x2abb59][_0x27377a][_0x14183b('0xd')][_0x14183b('0x1b')](!![]);}}};return{'createTerrain':_0xee0bb0,'collision':_0x9acac0};}();